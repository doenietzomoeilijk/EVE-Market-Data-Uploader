#!/usr/bin/env python
"""
Simple console-based uploader.
"""

import argparse
import logging
#noinspection PyUnresolvedReferences
import emdu.signal_handlers
from emdu.console_client import client

logging.basicConfig(format='%(asctime)s: %(message)s', level=logging.DEBUG)

parser = argparse.ArgumentParser(
    description="A simple, minimalistic EVE market data uploader.",
)
parser.add_argument(
    '--add-eve', action='append', dest='eve_dirs',
    help="Appends an EVE install dir to the defaults. You may use this multiple times " \
         "in order to add multiple installations.")
parser.add_argument(
    '--enable-deletion', action='store_true', dest='delete_cache', default=False,
    help="Enable deletion of cache files after read.")

# Let's get this party started.
if __name__ == '__main__':
    parsed = parser.parse_args()

    client.run(
        additional_eve_dirs=parsed.eve_dirs,
        delete_cache=parsed.delete_cache,
    )

